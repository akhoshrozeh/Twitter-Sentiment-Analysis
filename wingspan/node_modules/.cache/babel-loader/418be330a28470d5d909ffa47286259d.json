{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\estee\\\\Documents\\\\Petstagram\\\\src\\\\signin.js\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport { Link } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './signin.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Signin extends React.Component {\n  /*constructor(props) {\r\n  \tsuper(props);\r\n  \tthis.state = {\r\n  \t\tusername: '',\r\n  \t\tpassword: '',\r\n  \t\tuser: '',\r\n  \t\tpw: '',\r\n  \t}\r\n  \tthis.handleChange = this.handleChange.bind(this);\r\n  \tthis.handleChangeP = this.handleChangeP.bind(this);\r\n  \tthis.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n  \n  handleChange(e) {\r\n  \tthis.setState({username: e.target.value})\r\n  }\r\n  \r\n  handleChangeP(e) {\r\n  \tthis.setState({password: e.target.value})\r\n  }\r\n  \n  saveSelf() {\r\n  \tconst data = {\r\n  \t\tusername: this.state.username,\r\n  \t\tpassword: this.state.password,\r\n  \t}\r\n  \n  \t// this.state.username = username that the user input\r\n  \t// retrieve the user object corresponding the this username from the database\r\n  \t\t// fetch(\r\n  \n  \t\t//) -> return the user object corresponding to the username\r\n  \t// compare user object password with this.state.password\r\n  \t// \r\n  \n  \t// only call this if passwords match\r\n  \tfetch(\"http://localhost:3001/self\", {\r\n  \t\tmethod: 'POST',\r\n  \t\tmode: 'cors',\r\n  \t\theaders: {\r\n  \t\t\t'Content-Type': 'application/json'\r\n  \t\t},\r\n  \t\tbody: JSON.stringify(data)\r\n  \t})\r\n  \t\t.then(res => res.json())\r\n  \t\t.then(res => console.log(res))\r\n  }\r\n  \r\n  retrieveUser() {\r\n         const username = this.state.username;\r\n         //console.log(username);\r\n         fetch(`http://localhost:3001/profiles/${username}`)\r\n  \t\t//.then(response => console.log(response.json()))\r\n             .then(response => response.json())\r\n             .then(response => this.setState({ \r\n  \t\t\tuser: response.username, \r\n  \t\t\tpw: response.password\r\n  \t\t}, () => {\r\n  \t\t\t//console.log(this.state.user)\r\n  \t\t\t//console.log(this.state.pw)\r\n  \t\t}));\r\n     }\r\n  \r\n  checkOnClick()\r\n  {\r\n  \tif (this.state.user == this.state.username) \r\n  \t{\r\n  \t\tif (this.state.pw == this.state.password)\r\n  \t\t{\r\n  \t\t\tthis.handleSubmit()\r\n  \t\t\treturn \"/main\"\r\n  \t\t}\r\n  \t}\r\n  \treturn \"/\"\r\n  }\r\n  \r\n  handleSubmit()\r\n  {\r\n  \treturn this.saveSelf();\r\n  }\r\n  \n  render()\r\n  {\r\n  \tvar page = this.checkOnClick();\r\n  \treturn (\r\n  \t\t\t<body class = \"signin-container\">\r\n  \t\t\t\t<div class = \"signin-shadow\"> </div>\r\n  \t\t\t\t\r\n  \t\t\t\t<div class = \"signin-window\"> \r\n  \t\t\t\t\t<h1 class = \"signin-header\"> User Login </h1>\t\r\n  \t\t\t\t\t\t\r\n  \t\t\t\t\t<form>\r\n  \t\t\t\t\t\t<h2 class = \"signin-label\"> EMAIL </h2>\r\n  \t\t\t\t\t\t<input type=\"form_i\" value={this.state.username} onChange={this.handleChange}/>\r\n  \t\t\t\t\t</form>\r\n  \t\t\t\r\n  \t\t\t\t\t<form>\r\n  \t\t\t\t\t\t<h3 class =\"signin-label\"> PASSWORD </h3>\r\n  \t\t\t\t\t\t<input type=\"form_i\" value={this.state.password} onChange={this.handleChangeP}/>\r\n  \t\t\t\t\t</form>\r\n  \t\t\t\t\t\r\n  \t\t\t\t\t<Link className=\"signin-newAccount\" to={\"/signup\"} > Register an account </Link>\r\n  \t\t\t\t\t\r\n  \t\t\t\t\t<Link type=\"submit_i\" to = {page} onClick={() => this.retrieveUser()} style={{color: '#282b30'}}> Submit </Link>\r\n  \t\t\t\t\t\r\n  \t\t\t\t</div>\r\n  \t\t\t\t\r\n  \t\t\t\t<img class = \"signin-logo\" src = {logo} width=\"75\"/>\r\n  \t\t\t\t\r\n  \t\t\t</body>\r\n  \t);\r\n  }*/\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: '',\n      searching: '',\n      click: false,\n      tempu: '',\n      tempp: '',\n      warning: false,\n      case1: false,\n      clicked: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangeP = this.handleChangeP.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.state.clicked = false;\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handleChangeP(e) {\n    this.state.clicked = false;\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  saveSelf() {\n    const data = {\n      search: this.state.search\n    };\n    fetch(\"http://localhost:3001/self\", {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(res => console.log(res));\n  }\n\n  retrieveSearch() {\n    const search = this.state.search; //console.log(username);\n\n    fetch(`http://localhost:3001/profiles/${search}`).then(response => response.json()).then(response => this.setState({\n      searching: response.search\n    }, () => {}));\n  }\n\n  checkOnClick() {\n    if (this.state.searching == this.state.search && this.state.searching != \"\") {\n      this.warning = false;\n      this.handleSubmit();\n      return \"/main\"; //console.log(4)\n\n      /*\t} else {\r\n      \t\tthis.state.warning = true;\r\n      \t\tthis.state.case1 = true;\r\n      \t\tconsole.log(1)\r\n      \t}*/\n    } else if (this.state.search !== '') {\n      this.state.warning = true;\n      this.state.case1 = false;\n      console.log(2);\n    }\n\n    return \"/\";\n  }\n\n  handleSubmit() {\n    return this.saveSelf();\n  }\n\n  click() {\n    this.retrieveSearch();\n    this.state.clicked = true; //console.log(3);\n  }\n\n  reset_click() {\n    this.state.clicked = false;\n    this.state.warning = false;\n  }\n\n  render() {\n    console.log(this.state.warning, \"w\");\n    console.log(this.state.clicked, \"c\");\n    const vis_style = this.state.warning && this.state.clicked == true ? 'visible' : 'hidden';\n    const message = 'Your search sucks';\n    var page = this.checkOnClick();\n    return /*#__PURE__*/_jsxDEV(\"body\", {\n      class: \"signin-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"signin-window\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"searchZ\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"search\",\n              placeholder: \"Search..\",\n              value: this.state.username,\n              onChange: this.handleChange,\n              onkeydown: () => this.reset_click\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              type: \"submit_i\",\n              form: true,\n              action: \"/home\",\n              onClick: () => this.click(),\n              style: {\n                color: 'white'\n              },\n              children: \" Search... \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        id: \"warning\",\n        style: {\n          visibility: vis_style\n        },\n        children: [\" \", message, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Signin;","map":{"version":3,"sources":["C:/Users/estee/Documents/Petstagram/src/signin.js"],"names":["React","ReactDOM","Link","Signin","Component","constructor","props","state","search","searching","click","tempu","tempp","warning","case1","clicked","handleChange","bind","handleChangeP","handleSubmit","e","setState","username","target","value","password","saveSelf","data","fetch","method","mode","headers","body","JSON","stringify","then","res","json","console","log","retrieveSearch","response","checkOnClick","reset_click","render","vis_style","message","page","color","visibility"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,kCAAP;AACA,OAAO,cAAP;;;AAEA,MAAMC,MAAN,SAAqBH,KAAK,CAACI,SAA3B,CACA;AACC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAECC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,MAAM,EAAE,EADI;AAEZC,MAAAA,SAAS,EAAE,EAFC;AAGZC,MAAAA,KAAK,EAAE,KAHK;AAIZC,MAAAA,KAAK,EAAG,EAJI;AAKZC,MAAAA,KAAK,EAAE,EALK;AAMZC,MAAAA,OAAO,EAAE,KANG;AAOZC,MAAAA,KAAK,EAAE,KAPK;AAQZC,MAAAA,OAAO,EAAE;AARG,KAAb;AAUA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,YAAL,GAAoB,KAAKA,YAAL,CAAkBF,IAAlB,CAAuB,IAAv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","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from 'react-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './signin.css';\r\n\r\nclass Signin extends React.Component\r\n{\r\n\t/*constructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: '',\r\n\t\t\tuser: '',\r\n\t\t\tpw: '',\r\n\t\t}\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleChangeP = this.handleChangeP.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({username: e.target.value})\r\n\t}\r\n\t\r\n\thandleChangeP(e) {\r\n\t\tthis.setState({password: e.target.value})\r\n\t}\r\n\r\n\tsaveSelf() {\r\n\t\tconst data = {\r\n\t\t\tusername: this.state.username,\r\n\t\t\tpassword: this.state.password,\r\n\t\t}\r\n\r\n\t\t// this.state.username = username that the user input\r\n\t\t// retrieve the user object corresponding the this username from the database\r\n\t\t\t// fetch(\r\n\r\n\t\t\t//) -> return the user object corresponding to the username\r\n\t\t// compare user object password with this.state.password\r\n\t\t// \r\n\r\n\t\t// only call this if passwords match\r\n\t\tfetch(\"http://localhost:3001/self\", {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => console.log(res))\r\n\t}\r\n\t\r\n\tretrieveUser() {\r\n        const username = this.state.username;\r\n        //console.log(username);\r\n        fetch(`http://localhost:3001/profiles/${username}`)\r\n\t\t\t//.then(response => console.log(response.json()))\r\n            .then(response => response.json())\r\n            .then(response => this.setState({ \r\n\t\t\t\tuser: response.username, \r\n\t\t\t\tpw: response.password\r\n\t\t\t}, () => {\r\n\t\t\t\t//console.log(this.state.user)\r\n\t\t\t\t//console.log(this.state.pw)\r\n\t\t\t}));\r\n    }\r\n\t\r\n\tcheckOnClick()\r\n\t{\r\n\t\tif (this.state.user == this.state.username) \r\n\t\t{\r\n\t\t\tif (this.state.pw == this.state.password)\r\n\t\t\t{\r\n\t\t\t\tthis.handleSubmit()\r\n\t\t\t\treturn \"/main\"\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn \"/\"\r\n\t}\r\n\t\r\n\thandleSubmit()\r\n\t{\r\n\t\treturn this.saveSelf();\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tvar page = this.checkOnClick();\r\n\t\treturn (\r\n\t\t\t\t<body class = \"signin-container\">\r\n\t\t\t\t\t<div class = \"signin-shadow\"> </div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class = \"signin-window\"> \r\n\t\t\t\t\t\t<h1 class = \"signin-header\"> User Login </h1>\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<h2 class = \"signin-label\"> EMAIL </h2>\r\n\t\t\t\t\t\t\t<input type=\"form_i\" value={this.state.username} onChange={this.handleChange}/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<h3 class =\"signin-label\"> PASSWORD </h3>\r\n\t\t\t\t\t\t\t<input type=\"form_i\" value={this.state.password} onChange={this.handleChangeP}/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link className=\"signin-newAccount\" to={\"/signup\"} > Register an account </Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<Link type=\"submit_i\" to = {page} onClick={() => this.retrieveUser()} style={{color: '#282b30'}}> Submit </Link>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<img class = \"signin-logo\" src = {logo} width=\"75\"/>\r\n\t\t\t\t\t\r\n\t\t\t\t</body>\r\n\t\t);\r\n\t}*/\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tsearch: '',\r\n\t\t\tsearching: '',\r\n\t\t\tclick: false,\r\n\t\t\ttempu : '',\r\n\t\t\ttempp :'',\r\n\t\t\twarning: false,\r\n\t\t\tcase1: false,\r\n\t\t\tclicked: false\r\n\t\t}\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t\tthis.handleChangeP = this.handleChangeP.bind(this);\r\n\t\tthis.handleSubmit = this.handleSubmit.bind(this);\r\n\t}\r\n\r\n\thandleChange(e) {\r\n\t\tthis.state.clicked = false;\r\n\t\tthis.setState({username: e.target.value})\r\n\t}\r\n\t\r\n\thandleChangeP(e) {\r\n\t\tthis.state.clicked = false;\r\n\t\tthis.setState({password: e.target.value})\r\n\t}\r\n\r\n\tsaveSelf() {\r\n\t\tconst data = {\r\n\t\t\tsearch: this.state.search,\r\n\t\t}\r\n\r\n\t\tfetch(\"http://localhost:3001/self\", {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(data)\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => console.log(res))\r\n\t}\r\n\t\r\n\tretrieveSearch() {\r\n        const search = this.state.search;\r\n        //console.log(username);\r\n        fetch(`http://localhost:3001/profiles/${search}`)\r\n            .then(response => response.json())\r\n            .then(response => \r\n\t\t\tthis.setState({ \r\n\t\t\t\tsearching: response.search, \r\n\t\t\t}, () => { \r\n\r\n\t\t\t}));\r\n    }\r\n\t\r\n\tcheckOnClick()\r\n\t{\r\n\t\tif ((this.state.searching == this.state.search) && this.state.searching != \"\") \r\n\t\t{\r\n                this.warning = false;\r\n\t\t\t\tthis.handleSubmit()\r\n\t\t\t\treturn \"/main\";\r\n\t\t\t\t//console.log(4)\r\n\t\t/*\t} else {\r\n\t\t\t\tthis.state.warning = true;\r\n\t\t\t\tthis.state.case1 = true;\r\n\t\t\t\tconsole.log(1)\r\n\t\t\t}*/\r\n\t\t} else if (this.state.search !== '') {\r\n\t\t\tthis.state.warning = true;\r\n\t\t\tthis.state.case1 = false;\r\n\t\t\tconsole.log(2);\r\n\t\t}\r\n\t\treturn \"/\";\r\n\t}\r\n\t\r\n\thandleSubmit()\r\n\t{\r\n\t\treturn this.saveSelf();\r\n\t}\r\n\t\r\n\tclick()\r\n\t{\r\n\t\tthis.retrieveSearch();\r\n\t\tthis.state.clicked = true;\r\n\t\t//console.log(3);\r\n\t}\r\n\r\n\treset_click() {\r\n\t\tthis.state.clicked = false;\r\n\t\tthis.state.warning = false;\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconsole.log(this.state.warning, \"w\");\r\n\t\tconsole.log(this.state.clicked, \"c\");\r\n\t\tconst vis_style = (this.state.warning && this.state.clicked == true) ? 'visible' : 'hidden';\r\n\t\tconst message = 'Your search sucks';\r\n\t\tvar page = this.checkOnClick();\r\n\t\treturn (\r\n\t\t\t\t<body class = \"signin-container\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div class = \"signin-window\"> \r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<div class = \"searchZ\">\r\n\t\t\t\t\t\t\t<input type=\"text\" name=\"search\" placeholder=\"Search..\" value={this.state.username} onChange={this.handleChange} onkeydown={() => this.reset_click}/>\r\n\t\t\t\t\t\t\t<Link type=\"submit_i\" form action=\"/home\" onClick={() => this.click()} style={{color: 'white'}}> Search... </Link>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\r\n                        \r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h5 id=\"warning\" style={{visibility: vis_style}}> {message} </h5>\r\n\t\t\t\t</body>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Signin;\r\n"]},"metadata":{},"sourceType":"module"}