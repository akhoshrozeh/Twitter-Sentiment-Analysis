{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\estee\\\\Documents\\\\Petstagram\\\\src\\\\signup.js\";\nimport React, { Component } from 'react';\nimport \"./post.css\";\nimport 'bootstrap/dist/css/bootstrap.css';\nimport Logo from \"./logo.JPG\";\nimport ReactDOM from 'react-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: '',\n      self: {\n        search: ''\n      },\n      curPost: {}\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  retrieveSelf() {\n    fetch(\"http://localhost:3001/self\").then(response => response.json()).then(response => this.setState({\n      self: response\n    }));\n  }\n\n  componentDidMount() {\n    this.retrieveSelf();\n  }\n\n  handleChange(e) {\n    this.setState({\n      text: e.target.value\n    });\n  }\n\n  addNewPost() {\n    var text = {\n      text: this.state.text,\n      search: this.state.self.search,\n      time: Date().toLocaleString()\n    };\n    fetch(\"http://localhost:3001/posts\", {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(text)\n    }).then(res => res.json());\n    /*.then(res => fetch(\"http://localhost:3001/profiles\", {\r\n        method: 'PATCH',\r\n        mode: 'cors',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({username: this.state.self.username, post: res})\r\n    }))*/\n    //console.log(text);\n    // update posts of self too\n\n    fetch(\"http://localhost:3001/profiles\", {\n      method: 'PATCH',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        search: this.state.self.search,\n        post: text\n      })\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"post\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Post;","map":{"version":3,"sources":["C:/Users/estee/Documents/Petstagram/src/signup.js"],"names":["React","Component","Logo","ReactDOM","Post","constructor","props","state","text","self","search","curPost","handleChange","bind","retrieveSelf","fetch","then","response","json","setState","componentDidMount","e","target","value","addNewPost","time","Date","toLocaleString","method","mode","headers","body","JSON","stringify","res","post","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,YAAP;AACA,OAAO,kCAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,QAAP,MAAqB,WAArB;;;AAEA,MAAMC,IAAN,SAAmBJ,KAAK,CAACC,SAAzB,CAAmC;AAC/BI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACrB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACZC,MAAAA,IAAI,EAAE,EADM;AAEHC,MAAAA,IAAI,EAAE;AAACC,QAAAA,MAAM,EAAE;AAAT,OAFH;AAGHC,MAAAA,OAAO,EAAE;AAHN,KAAb;AAKA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA;;AAEEC,EAAAA,YAAY,GAAG;AACXC,IAAAA,KAAK,CAAC,4BAAD,CAAL,CACJC,IADI,CACCC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADb,EAEJF,IAFI,CAECC,QAAQ,IAAI,KAAKE,QAAL,CAAc;AAAEV,MAAAA,IAAI,EAAEQ;AAAR,KAAd,CAFb;AAGH;;AAEDG,EAAAA,iBAAiB,GAAG;AAChB,SAAKN,YAAL;AACH;;AAEJF,EAAAA,YAAY,CAACS,CAAD,EAAI;AACf,SAAKF,QAAL,CAAc;AAACX,MAAAA,IAAI,EAAEa,CAAC,CAACC,MAAF,CAASC;AAAhB,KAAd;AACA;;AAGDC,EAAAA,UAAU,GAAG;AACZ,QAAIhB,IAAI,GAAG;AACVA,MAAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,IADP;AAEDE,MAAAA,MAAM,EAAE,KAAKH,KAAL,CAAWE,IAAX,CAAgBC,MAFvB;AAIDe,MAAAA,IAAI,EAAEC,IAAI,GAAGC,cAAP;AAJL,KAAX;AAMAZ,IAAAA,KAAK,CAAC,6BAAD,EAAgC;AACpCa,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,IAAI,EAAE,MAF8B;AAGpCC,MAAAA,OAAO,EAAE;AACR,wBAAgB;AADR,OAH2B;AAMpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAezB,IAAf;AAN8B,KAAhC,CAAL,CAQWQ,IARX,CAQgBkB,GAAG,IAAIA,GAAG,CAAChB,IAAJ,EARvB;AASU;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACQ;AAEA;;AACAH,IAAAA,KAAK,CAAC,gCAAD,EAAmC;AACpCa,MAAAA,MAAM,EAAE,OAD4B;AAEpCC,MAAAA,IAAI,EAAE,MAF8B;AAGpCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAH2B;AAMpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACvB,QAAAA,MAAM,EAAE,KAAKH,KAAL,CAAWE,IAAX,CAAgBC,MAAzB;AAAiCyB,QAAAA,IAAI,EAAE3B;AAAvC,OAAf;AAN8B,KAAnC,CAAL;AAQN;;AAEE4B,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,KAAK,EAAC,MAAX;AAAA,6BACQ;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,YADJ;AAMH;;AAtE8B;;AAwEnC,eAAehC,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport \"./post.css\";\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Logo from \"./logo.JPG\";\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Post extends React.Component {\r\n    constructor(props) {\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\ttext: '',\r\n            self: {search: ''},\r\n            curPost: {},\r\n\t\t};\r\n\t\tthis.handleChange = this.handleChange.bind(this);\r\n\t}\r\n\r\n    retrieveSelf() {\r\n        fetch(\"http://localhost:3001/self\")\r\n\t\t\t.then(response => response.json())\r\n\t\t\t.then(response => this.setState({ self: response }))\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.retrieveSelf();\r\n    }\r\n\r\n\thandleChange(e) {\r\n\t\tthis.setState({text: e.target.value})\r\n\t}\r\n    \r\n\r\n\taddNewPost() {\r\n\t\tvar text = {\r\n\t\t\ttext: this.state.text,\r\n            search: this.state.self.search,\r\n\r\n            time: Date().toLocaleString(),\r\n\t\t}\r\n\t\tfetch(\"http://localhost:3001/posts\", {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tmode: 'cors',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(text)\r\n\t\t})\r\n            .then(res => res.json())\r\n            /*.then(res => fetch(\"http://localhost:3001/profiles\", {\r\n                method: 'PATCH',\r\n                mode: 'cors',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({username: this.state.self.username, post: res})\r\n            }))*/\r\n        //console.log(text);\r\n        \r\n        // update posts of self too\r\n        fetch(\"http://localhost:3001/profiles\", {\r\n            method: 'PATCH',\r\n            mode: 'cors',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({search: this.state.self.search, post: text})\r\n        })\r\n\t}\r\n\r\n    render() {\r\n        return (\r\n            <div class='post'>\r\n                    <form>\r\n                    </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Post;\r\n"]},"metadata":{},"sourceType":"module"}